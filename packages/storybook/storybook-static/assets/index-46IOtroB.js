import{d as y,u as P,j as t,f as r,c as C,a as d}from"./jsx-runtime-BESKN28P.js";import{I as D,a as A,b as R,c as T,u as $}from"./index-mkNy8REe.js";import{u as l}from"./index-Dx87V8fh.js";import{P as j,A as I,e as N}from"./index-CdvvZK18.js";import{c as m}from"./css-DxnGaO7F.js";import{s as F}from"./utils-C1pP9zeG.js";function G({pageX:e,pageY:o,currentTarget:i}){const s=i.getBoundingClientRect();return{x:e,y:o,offset:{x:e-s.left,y:o-s.top}}}const b=y(()=>{const[e,o]=P();return t("host",{shadowDom:!0,setEvent:i=>{const{offset:s}=G(i);o(n=>n?.pending?n:{offset:s,pending:!0})},children:t("div",{style:e?.offset?`--x:${e?.offset?.x}px; --y:${e?.offset?.y}px`:"",class:e?.pending?"show":"",onanimationend:()=>o({})})})},{styles:m`:host{width:100%;height:100%;position:absolute;top:0;left:0;display:block;overflow:hidden;--background: var(--color-active)}div{width:10px;height:10px;position:absolute;top:calc(var(--y) - 5px);left:calc(var(--x) - 5px);opacity:0;background:var(--background);border-radius:100%}.show{transform:scale(2);opacity:1;animation:scale .5s ease 1}@keyframes scale{0%{opacity:0;transform:scale(0)}50%{opacity:1}to{transform:scale(10);opacity:0}}`}),H=y(({name:e,href:o,value:i,type:s,badge:n,color:a,outline:g})=>{const p=r(),x=r(),h=r(),w=r(),u=r(),k=C(),f=r(),B=l(p),z=l(x);l(w);const S=l(h,c=>c instanceof Text?!!c.textContent?.trim():!0),E=A(),[,v]=R("focused");return T(k,u,"click"),$(o?t("a",{slot:"button",tabindex:"-1",href:o,ref:u,staticNode:!0}):t("button",{type:s||"submit",name:e,value:i,ref:u,slot:"button",tabindex:"-1",disabled:E})),d("host",{shadowDom:!0,onclick:c=>{f.current?.setEvent&&f.current.setEvent(c)},color:a||(g?"primary":null),layout:F(B.length&&"prefix",S.length&&"content",z.length&&"suffix"),children:[d("button",{class:"container",onfocus:()=>!n&&v(!0),onblur:()=>!n&&v(!1),tabIndex:n?-1:null,staticNode:!0,children:[t("div",{class:"background",children:t("slot",{name:"background",children:t(b,{ref:f,class:"effect"})})}),d("div",{class:"row",children:[t("div",{class:"action prefix",children:t("div",{class:"icon",children:t("slot",{ref:p,name:"prefix"})})}),t("div",{class:"content",children:t("slot",{ref:h})}),t("div",{class:"action suffix",children:t("div",{class:"icon",children:t("slot",{ref:x,name:"suffix"})})})]})]}),t("style",{children:`:host{--color: var(--color-${a}, var(--color-status-${a}-container))!important;}`})]})},{props:{...D,ghost:{type:Boolean,reflect:!0},type:{type:String,reflect:!0,value:"submit"},href:{type:String,reflect:!0},circle:{type:Boolean,reflect:!0},outline:{type:Boolean,reflect:!0},badge:{type:Boolean,reflect:!0},color:{type:String,value:"primary"}},styles:[j,I,N,m`:host{display:inline-block;white-space:nowrap;---border: none;---color: var(--color);---outline: none;---radius: var(--radius);---row: max-content auto max-content;---prefix-display: block;---content-display: flex;---suffix-display: block;---size: var(--size)}:host([outline]){---border: var(--border);---color: transparent}:host([focused]){---outline: var(--outline)}:host([circle]){---radius: var(--radius-circle)}:host([layout="prefix"]){---content-display: none;---suffix-display: none;---row: auto}:host([layout="content"]){---suffix-display: none;---prefix-display: none;---row: auto}:host([layout="suffix"]){---row: auto;---content-display: none;---prefix-display: none}:host([layout="prefix content"]){---row: max-content auto;---suffix-display: none}:host([layout="content suffix"]){---row: auto max-content;---prefix-display: none}:host([layout="content"]){---row: auto;---prefix-display: none;---suffix-display: none}:host([layout="prefix"]),:host([layout="suffix"]){--space: 0}:host([ghost]){---color: transparent}:host-context(.action-suffix),:host-context(.action-prefix){---size: calc(var(--size) - (var(--border-size) * 2))}.container{all:unset;position:relative;height:var(---size);width:100%;min-width:var(---size);cursor:pointer;border:var(---border);border-radius:var(---radius);background:var(---color);outline:var(---outline);outline-offset:var(--outline-offset);transition:var(--transition);box-sizing:border-box}.content{display:var(---content-display);gap:var(--space);align-items:center;line-height:0}.prefix{display:var(---prefix-display)}.suffix{display:var(---suffix-display)}.row{display:grid;align-items:center;position:relative;z-index:1;gap:var(--space);padding:0 calc(var(--space) * 2);grid-template-columns:var(---row)}.background{width:100%;height:100%;position:absolute;top:0;left:0;box-sizing:border-box}.icon{display:grid;place-content:center}.background{--color-active: var(--color-contrast-15);border-radius:var(---radius);overflow:hidden}`]});customElements.define("forma-button-active",b);customElements.define("forma-button",H);export{H as B};
