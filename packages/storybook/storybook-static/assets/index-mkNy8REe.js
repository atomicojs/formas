import{c as i,P as p,p as h,S as b,q as y,r as l,e as E,j as P,s as d,n as R,f as m,g as w}from"./jsx-runtime-BESKN28P.js";import{u as D}from"./index-AhVMmnpE.js";const B=t=>{const{current:e}=i();if(!(t in e))throw new p(e,`For useProp("${t}"), the prop does not exist on the host.`,t);return h((s=new b(e[t],(r,o)=>{r=y(r)?r(e[t]):r,e[t]=r}))=>(s[0]=e[t],s))},g=(t,e)=>{const s=i();l(()=>{let r=!1,o,n=()=>{o&&o(),o=null};const c=async()=>{r||(r=!0,await s.current.updated,n(),r=!1,o=t())},u=e.map(a=>a.on(c));return s.once||(s.once=!0,c()),()=>{u.map(a=>a()),n()}},e)},I=t=>t&&t.type==="host"?t:P("host",{children:t});function k(t,e){const s=i();s.id=s.id||Symbol(),l(()=>{E(I(typeof t=="function"?t():t),s.current,s.id)},e)}function H(t,e){const s=L(e);return d(()=>R(s.find(typeof t=="string"?r=>r?.matches?.(t):r=>r instanceof t)),[t])}function L(t){const e=i();return d(()=>{const s=[];let{current:r}=e;for(;r=r.parentNode||t&&r.host;)s.push(r);return s},[t])}function M(t,e,s={childList:!0,characterData:!0}){const r=m();r.current=e,g(()=>{if(!t.current)return;const o=new MutationObserver(c=>{c.forEach(({addedNodes:u})=>u.forEach(n)),r.current(c,o)}),n=c=>{c instanceof Text&&o.observe(c,{...s,characterData:!0})};return o.observe(t.current,s),t.current.childNodes.forEach(n),()=>o.disconnect()},[t])}const f=t=>t.hasAttribute("disabled");function q(t="fieldset"){const e=H(t),[s,r]=B("disabled");return M(e,o=>o.filter(n=>n.attributeName=="disabled").map(n=>{r(f(n.target))}),{attributes:!0}),w(()=>{const{current:o}=e;o&&r(f(o))},[]),s}const N=(t,e,s)=>{const{currentTarget:r}=e,{shadowRoot:o}=r,n=e.composedPath();if(n.includes(t))return;const c=n.indexOf(r),u=n.slice(0,c).find(a=>a instanceof ShadowRoot);!s&&u!==o||(e.preventDefault(),e.stopImmediatePropagation(),t.dispatchEvent(new e.constructor(e.type,e)))};function x(t,e,s,{capture:r=!0,composed:o=!0}={}){D(t,s,n=>{const{current:c}=e;c&&N(c,n,o)},{capture:r})}const F={name:{type:String,reflect:!0},required:{type:Boolean,reflect:!0},disabled:{type:Boolean,reflect:!0},value:null,small:{type:Boolean,reflect:!0},focused:{type:Boolean,reflect:!0},focusable:{type:Boolean,reflect:!0,value:!0}};export{F as I,q as a,B as b,x as c,H as d,k as u};
