var B=(s,t,e)=>{if(!t.has(s))throw TypeError("Cannot "+e)};var N=(s,t,e)=>(B(s,t,"read from private field"),e?e.call(s):t.get(s)),R=(s,t,e)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)},j=(s,t,e,o)=>(B(s,t,"write to private field"),o?o.call(s,e):t.set(s,e),e);var p,y;class K{constructor(t){R(this,p,void 0);R(this,y,new Set);j(this,p,t)}get current(){return N(this,p)}set current(t){N(this,p)!=t&&(j(this,p,t),N(this,y).forEach(e=>e(t)))}on(t){return N(this,y).add(t),()=>N(this,y).delete(t)}}p=new WeakMap,y=new WeakMap;const Z=s=>new K(s),L=Symbol.for("atomico.hooks");globalThis[L]=globalThis[L]||{};let P=globalThis[L];const G=Symbol.for("Atomico.suspense"),Q=Symbol.for("Atomico.effect"),W=Symbol.for("Atomico.layoutEffect"),X=Symbol.for("Atomico.insertionEffect"),v=(s,t,e)=>{const{i:o,hooks:r}=P.c,i=r[o]=r[o]||{};return i.value=s(i.value),i.effect=t,i.tag=e,P.c.i++,r[o].value},It=()=>v((s=Z(P.c.host))=>s),x=(s,t,e=0)=>{let o={},r=!1;const i=()=>r,l=(f,c)=>{for(const u in o){const n=o[u];n.effect&&n.tag===f&&(n.value=n.effect(n.value,c))}};return{load:f=>{P.c={host:t,hooks:o,update:s,i:0,id:e};let c;try{r=!1,c=f()}catch(u){if(u!==G)throw u;r=!0}finally{P.c=null}return c},cleanEffects:f=>(l(X,f),()=>(l(W,f),()=>{l(Q,f)})),isSuspense:i}},_=Symbol.for,V=queueMicrotask;function Rt(s,t){const e=s.length;if(e!==t.length)return!1;for(let o=0;o<e;o++){let r=s[o],i=t[o];if(r!==i)return!1}return!0}const S=s=>typeof s=="function",A=s=>typeof s=="object",{isArray:tt}=Array,M=(s,t)=>(t?s instanceof HTMLStyleElement:!0)&&"hydrate"in((s==null?void 0:s.dataset)||{});function H(s,t){let e;const o=r=>{let{length:i}=r;for(let l=0;l<i;l++){const m=r[l];if(m&&Array.isArray(m))o(m);else{const a=typeof m;if(m==null||a==="function"||a==="boolean")continue;a==="string"||a==="number"?(e==null&&(e=""),e+=m):(e!=null&&(t(e),e=null),t(m))}}};o(s),e!=null&&t(e)}class z{constructor(t,e,o){this.message=e,this.target=t,this.value=o}}class st extends z{}class et extends z{}const O="Custom",ot=null,rt={true:1,"":1,1:1};function it(s,t,e,o,r){const{type:i,reflect:l,event:m,value:a,attr:f=ct(t)}=(e==null?void 0:e.name)!=O&&A(e)&&e!=ot?e:{type:e},c=(i==null?void 0:i.name)===O&&i.map,u=a!=null?i==Function||!S(a)?()=>a:a:null;Object.defineProperty(s,t,{configurable:!0,set(n){const h=this[t];u&&i!=Boolean&&n==null&&(n=u());const{error:E,value:g}=(c?at:ut)(i,n);if(E&&g!=null)throw new st(this,`The value defined for prop '${t}' must be of type '${i.name}'`,g);h!=g&&(this._props[t]=g??void 0,this.update(),m&&nt(this,m),this.updated.then(()=>{l&&(this._ignoreAttr=f,lt(this,i,f,this[t]),this._ignoreAttr=null)}))},get(){return this._props[t]}}),u&&(r[t]=u()),o[f]={prop:t,type:i}}const nt=(s,{type:t,base:e=CustomEvent,...o})=>s.dispatchEvent(new e(t,o)),ct=s=>s.replace(/([A-Z])/g,"-$1").toLowerCase(),lt=(s,t,e,o)=>o==null||t==Boolean&&!o?s.removeAttribute(e):s.setAttribute(e,(t==null?void 0:t.name)===O&&(t!=null&&t.serialize)?t==null?void 0:t.serialize(o):A(o)?JSON.stringify(o):t==Boolean?"":o),ft=(s,t)=>s==Boolean?!!rt[t]:s==Number?Number(t):s==String?t:s==Array||s==Object?JSON.parse(t):s.name==O?t:new s(t),at=({map:s},t)=>{try{return{value:s(t),error:!1}}catch{return{value:t,error:!0}}},ut=(s,t)=>s==null||t==null?{value:t,error:!1}:s!=String&&t===""?{value:void 0,error:!1}:s==Object||s==Array||s==Symbol?{value:t,error:{}.toString.call(t)!==`[object ${s.name}]`}:t instanceof s?{value:t,error:s==Number&&Number.isNaN(t.valueOf())}:s==String||s==Number||s==Boolean?{value:t,error:s==Number?typeof t!="number"?!0:Number.isNaN(t):s==String?typeof t!="string":typeof t!="boolean"}:{value:t,error:!0};let ht=0;const mt=s=>{var e;const t=((e=(s==null?void 0:s.dataset)||{})==null?void 0:e.hydrate)||"";return t||"c"+ht++},jt=(s,t=HTMLElement)=>{const e={},o={},r="prototype"in t&&t.prototype instanceof Element,i=r?t:"base"in t?t.base:HTMLElement,{props:l,styles:m}=r?s:t;class a extends i{constructor(){super(),this._setup(),this._render=()=>s({...this._props});for(const c in o)this[c]=o[c]}static get styles(){return[super.styles,m]}async _setup(){if(this._props)return;this._props={};let c,u;this.mounted=new Promise(b=>this.mount=()=>{b(),c!=this.parentNode&&(u!=c?this.unmounted.then(this.update):this.update()),c=this.parentNode}),this.unmounted=new Promise(b=>this.unmount=()=>{b(),(c!=this.parentNode||!this.isConnected)&&(n.cleanEffects(!0)()(),u=this.parentNode,c=null)}),this.symbolId=this.symbolId||Symbol(),this.symbolIdParent=Symbol();const n=x(()=>this.update(),this,mt(this));let h,E=!0;const g=M(this);this.update=()=>(h||(h=!0,this.updated=(this.updated||this.mounted).then(()=>{try{const b=n.load(this._render),d=n.cleanEffects();return b&&b.render(this,this.symbolId,g),h=!1,E&&!n.isSuspense()&&(E=!1,!g&&bt(this)),d()}finally{h=!1}}).then(b=>{b&&b()})),this.updated),this.update()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.unmount()}attributeChangedCallback(c,u,n){if(e[c]){if(c===this._ignoreAttr||u===n)return;const{prop:h,type:E}=e[c];try{this[h]=ft(E,n)}catch{throw new et(this,`The value defined as attr '${c}' cannot be parsed by type '${E.name}'`,n)}}else super.attributeChangedCallback(c,u,n)}static get props(){return{...super.props,...l}}static get observedAttributes(){const c=super.observedAttributes||[];for(const u in l)it(this.prototype,u,l[u],e,o);return Object.keys(e).concat(c)}}return a};function bt(s){const{styles:t}=s.constructor,{shadowRoot:e}=s;if(e&&t.length){const o=[];H(t,r=>{r&&(r instanceof Element?e.appendChild(r.cloneNode(!0)):o.push(r))}),o.length&&(e.adoptedStyleSheets=o)}}const D=_("atomico/options");globalThis[D]=globalThis[D]||{sheet:!!document.adoptedStyleSheets};const dt=globalThis[D],Et={checked:1,value:1,selected:1},gt={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},pt={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},C={},$=[];class w extends Text{}const Nt=_("atomico/id"),T=_("atomico/type"),k=_("atomico/ref"),J=_("atomico/vnode"),St=()=>{};function yt(s,t,e){return q(this,s,t,e)}const U=(s,t,...e)=>{const o=t||C;let{children:r}=o;if(r=r??(e.length?e:$),s===St)return r;const i=s?s instanceof Node?1:s.prototype instanceof HTMLElement&&2:0;if(i===!1&&s instanceof Function)return s(r!=$?{children:r,...o}:o);const l=dt.render||yt;return{[T]:J,type:s,props:o,children:r,key:o.key,shadow:o.shadowDom,static:o.staticNode,raw:i,is:o.is,clone:o.cloneNode,render:l}};function q(s,t,e=Nt,o,r){let i;if(t&&t[e]&&t[e].vnode==s||s[T]!=J)return t;(s||!t)&&(r=r||s.type=="svg",i=s.type!="host"&&(s.raw==1?(t&&s.clone?t[k]:t)!=s.type:s.raw==2?!(t instanceof s.type):t?t[k]||t.localName!=s.type:!t),i&&s.type!=null&&(s.raw==1&&s.clone?(o=!0,t=s.type.cloneNode(!0),t[k]=s.type):t=s.raw==1?s.type:s.raw==2?new s.type:r?document.createElementNS("http://www.w3.org/2000/svg",s.type):document.createElement(s.type,s.is?{is:s.is}:void 0)));const l=t[e]?t[e]:C,{vnode:m=C,cycle:a=0}=l;let{fragment:f,handlers:c}=l;const{children:u=$,props:n=C}=m;if(c=i?{}:c||{},s.static&&!i)return t;if(s.shadow&&!t.shadowRoot&&t.attachShadow({mode:"open",...s.shadow}),s.props!=n&&Pt(t,n,s.props,c,r),s.children!==u){const h=s.shadow?t.shadowRoot:t;f=Tt(s.children,f,h,e,!a&&o,r&&s.type=="foreignObject"?!1:r)}return t[e]={vnode:s,handlers:c,fragment:f,cycle:a+1},t}function At(s,t){const e=new w(""),o=new w("");let r;if(s[t?"prepend":"append"](e),t){let{lastElementChild:i}=s;for(;i;){const{previousElementSibling:l}=i;if(M(i,!0)&&!M(l,!0)){r=i;break}i=l}}return r?r.before(o):s.append(o),{markStart:e,markEnd:o}}function Tt(s,t,e,o,r,i){s=s==null?null:tt(s)?s:[s];const l=t||At(e,r),{markStart:m,markEnd:a,keyes:f}=l;let c;const u=f&&new Set;let n=m;if(s&&H(s,h=>{if(typeof h=="object"&&!h[T])return;const E=h[T]&&h.key,g=f&&E!=null&&f.get(E);n!=a&&n===g?u.delete(n):n=n==a?a:n.nextSibling;const b=f?g:n;let d=b;if(h[T])d=q(h,b,o,r,i);else{const I=h+"";!(d instanceof Text)||d instanceof w?d=new Text(I):d.data!=I&&(d.data=I)}d!=n&&(f&&u.delete(d),!b||f?(e.insertBefore(d,n),f&&n!=a&&u.add(n)):b==a?e.insertBefore(d,a):(e.replaceChild(d,b),n=d)),E!=null&&(c=c||new Map,c.set(E,d))}),n=n==a?a:n.nextSibling,t&&n!=a)for(;n!=a;){const h=n;n=n.nextSibling,h.remove()}return u&&u.forEach(h=>h.remove()),l.keyes=c,l}function Pt(s,t,e,o,r){for(const i in t)!(i in e)&&F(s,i,t[i],null,r,o);for(const i in e)F(s,i,t[i],e[i],r,o)}function F(s,t,e,o,r,i){if(t=t=="class"&&!r?"className":t,e=e??null,o=o??null,t in s&&Et[t]&&(e=s[t]),!(o===e||pt[t]||t[0]=="_"))if(s.localName==="slot"&&t==="assignNode"&&"assign"in s)V(()=>s.assign(o));else if(t[0]=="o"&&t[1]=="n"&&(S(o)||S(e)))_t(s,t.slice(2),o,i);else if(t=="ref")o&&(S(o)?o(s):o.current=s);else if(t=="style"){const{style:l}=s;e=e||"",o=o||"";const m=A(e),a=A(o);if(m)for(const f in e)if(a)!(f in o)&&Y(l,f,null);else break;if(a)for(const f in o){const c=o[f];m&&e[f]===c||Y(l,f,c)}else l.cssText=o}else{const l=t[0]=="$"?t.slice(1):t;l===t&&(!r&&!gt[t]&&t in s||S(o)||S(e))?s[t]=o??"":o==null?s.removeAttribute(l):s.setAttribute(l,A(o)?JSON.stringify(o):o)}}function _t(s,t,e,o){if(o.handleEvent||(o.handleEvent=r=>o[r.type].call(s,r)),e){if(!o[t]){const r=e.capture||e.once||e.passive?Object.assign({},e):null;s.addEventListener(t,o,r)}o[t]=e}else o[t]&&(s.removeEventListener(t,o),delete o[t])}function Y(s,t,e){let o="setProperty";e==null&&(o="removeProperty",e=null),~t.indexOf("-")?s[o](t,e):s[t]=e}U("host",{style:"display: contents"});const Ct=(s,t,e)=>(t==null?t={key:e}:t.key=e,U(s,t)),kt=Ct;export{Q as I,Rt as a,It as b,jt as c,q as d,kt as e,U as h,S as i,Ct as j,dt as o,v as u};
